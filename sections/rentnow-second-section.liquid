{{ 'section-second-rentnow.css' | asset_url | stylesheet_tag }}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Kristi&family=Syncopate:wght@700&display=swap" rel="stylesheet">

<link href="https://db.onlinewebfonts.com/c/1a5c2d8bbd4e28d99a6efcbb9a5b378f?family=JejuMyeongjo" rel="stylesheet">

<div class="rentnow-second-section">
  <h1>How long will you be travelling for?</h1>

  <div class="rentnow-header2-container1">
    <div class="rentnow-calendar-group">
      <div class="rentnow-first-calendar">
        <div class="rentnow-first-months">
          <label for="rentnow-first-month-dropdownmenu" class="rentnow-first-month-select" id="rentNowFirstMonthLabel"></label> 
          <select id="rentnow-first-month-dropdownmenu"> 
              <option value="January">January</option> 
              <option value="February">February</option> 
              <option value="March">March</option> 
              <option value="April">April</option>
              <option value="May">May</option> 
              <option value="June">June</option> 
              <option value="July">July</option> 
              <option value="August">August</option> 
              <option value="September">September</option> 
              <option value="October">October</option> 
              <option value="November">November</option>
              <option value="December">December</option> 
          </select>
          <label for="rentnow-first-year-dropdownmenu" class="rentnow-first-year-select" id="rentNowFirstYearLabel"></label> 
          <select id="rentnow-first-year-dropdownmenu"> 
              <option value="2023">2023</option> 
              <option value="2024">2024</option> 
              <option value="2025">2025</option> 
              <option value="2026">2026</option> 
              <option value="2027">2027</option>
              <option value="2028">2028</option> 
              <option value="2029">2029</option> 
          </select>
        </div>
        <div class="rentnow-first-weekdays">
          <p>Su</p>
          <p>Mo</p>
          <p>Tu</p>
          <p>We</p>
          <p>Th</p>
          <p>Fr</p>
          <p>Sa</p>          
        </div>
        <div class="rentnow-first-days"></div>
      </div>

      <div class="rentnow-second-calendar">
        <div class="rentnow-second-months">
          <p class="rentnow-second-month-select">October</p>
          <p class="rentnow-first-year-select">&nbsp;2023</p>
        </div>
        <div class="rentnow-second-weekdays">
          <p>Su</p>
          <p>Mo</p>
          <p>Tu</p>
          <p>We</p>
          <p>Th</p>
          <p>Fr</p>
          <p>Sa</p>
        </div>
        <div class="rentnow-second-days">
          <p class="rentnow-prevdays">27</p>
          <p class="rentnow-prevdays">28</p>
          <p class="rentnow-prevdays">29</p>
          <p class="rentnow-prevdays">30</p>
          <p class="rentnow-prevdays">31</p>

          <p>1</p>
          <p>2</p>
          <p>3</p>
          <p>4</p>
          <p>5</p>
          <p>6</p>
          <p>7</p>
          <p>8</p>
          <p>9</p>
          <p>10</p>
          <p>11</p>
          <p>12</p>
          <p>13</p>
          <p>14</p>
          <p>15</p>
          <p>16</p>
          <p>17</p>
          <p>18</p>
          <p>19</p>
          <p>20</p>
          <p>21</p>
          <p>22</p>
          <p>23</p>
          <p>24</p>
          <p>25</p>
          <p>26</p>
          <p>27</p>
          <p>28</p>
          <p>29</p>
          <p>30</p>

          <p class="rentnow-nextdays">1</p>
          <p class="rentnow-nextdays">2</p>
          <p class="rentnow-nextdays">3</p>
          <p class="rentnow-nextdays">4</p>
          <p class="rentnow-nextdays">5</p>
          <p class="rentnow-nextdays">6</p>
          <p class="rentnow-nextdays">7</p>
        </div>
      </div>
    </div>

    <div class="rentnow-calendar-legend">
      <div class="rentnow-subheader-container5">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none">
          <circle cx="12.375" cy="12.4671" r="11.5127" fill="#8A947F" fill-opacity="0.5"/>
        </svg>
        <h2>Collection/Return Dates Respectively (Free) </h2>
      </div>
      <div class="rentnow-subheader-container5">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none">
          <circle cx="12.375" cy="12.4671" r="11.5127" fill="#FFA665" fill-opacity="0.5"/>
        </svg>
        <h2>Selected Dates</h2>
      </div>
    </div>
  </div>

  <div class="rentnow-header2-container2">
    <p>Feel Free to move</p>        
    <img class= "rentnow-start-circle-image" src="{{ 'rentnow-start-circle.svg' | asset_url }}" />
    <img class= "rentnow-end-circle-image" src="{{ 'rentnow-end-circle.svg' | asset_url }}" />          
    <p>to select your travel dates.</p>
  </div>

</div>

{% schema %}
  {
    "name": "RentNow Second Section",
    "settings": [],
    "presets": [
        {
            "name": "RentNow Second Section"
        }
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}

//Inserting Current Month/Year

const date = new Date();
let days = "";

const months = [
  "January",
  "February",
  "March",
  "April",
  "May",
  "June",
  "July",
  "August",
  "September",
  "October",
  "November",
  "December",
];

// DropDown Menu for First Month
document.querySelector('.rentnow-first-month-select').innerHTML = months[date.getMonth()];

const rentNowFirstMonthLabel = document.getElementById('rentNowFirstMonthLabel');
const dropdownMonth = document.getElementById("rentnow-first-month-dropdownmenu");

// Event listener for label click
rentNowFirstMonthLabel.addEventListener('click', function() {
  dropdownMonth.style.display = 'block'; 
  dropdownMonth.size= "7";
  dropdownMonth.click();
});

// Event listener for dropdown change
dropdownMonth.addEventListener('change', function() {

  // Month Title Change
  const selectedMonth = dropdownMonth.value;
  rentNowFirstMonthLabel.textContent = selectedMonth;
  dropdownMonth.style.display = 'none';

  // Date change with Month
  const selectedMonthIndex = months.indexOf(selectedMonth);
  date.setMonth(selectedMonthIndex);
  console.log(selectedMonthIndex);

  // Dates correspond to Month and Year
  const firstMonthDays = document.querySelector(".rentnow-first-days");
  const lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();

  for (let i = 1; i <= lastDay; i++) {
    days += `<p>${i}</p>`;
    firstMonthDays.innerHTML = days;
  }

});

// DropDown Menu for First Year
const rentNowFirstYearLabel = document.getElementById('rentNowFirstYearLabel');
document.querySelector('.rentnow-first-year-select').innerHTML = "&nbsp;" + date.getFullYear();

const dropdownYear = document.getElementById('rentnow-first-year-dropdownmenu');

// Event listener for label click
rentNowFirstYearLabel.addEventListener('click', function(event) {
  dropdownYear.style.display = 'block';
  dropdownYear.size = 5;
  dropdownYear.click();
});

// Event listener for dropdown change
dropdownYear.addEventListener('change', function() {
  const selectedYear = dropdownYear.value;
  rentNowFirstYearLabel.textContent = "\u00A0" + selectedYear;
  dropdownYear.style.display = 'none';
});

  // Dates correspond to Month and Year
  const firstMonthDays = document.querySelector(".rentnow-first-days");
  let days = "";

  const lastDay = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();

  for (let i = 1; i <= lastDay; i++) {
    days += `<p>${i}</p>`;
    firstMonthDays.innerHTML = days;
  }

  // Dates Before and After actual Month

  const firstFirstDayIndex = date.getDate();

  const firstPrevLastDay = new Date(date.getFullYear(), date.getMonth(), 0).getDate();
  const 

  for (let x = firstFirstDayIndex; x > 0; x--) {
    days += `<p class="rentnow-prev-days">${x}</p>`
  }


{% endjavascript %}